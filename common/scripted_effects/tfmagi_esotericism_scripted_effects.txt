tfmagi_inflict_wound_effect = {
	if = {
		limit = {
			has_trait = wounded_1
		}
		remove_trait = wounded_1
		add_trait = wounded_2
	}
	else_if = {
		limit = {
			has_trait = wounded_2
		}
		remove_trait = wounded_2
		add_trait = wounded_3
	}
	else = {
		add_trait = wounded_1
	}
}

tfmagi_heal_injury_effect = {
	if = {
		limit = {
			has_trait = wounded_3
		}
		remove_trait = wounded_3
		add_trait = wounded_2
	}
	else_if = {
		limit = {
			has_trait = wounded_2
		}
		remove_trait = wounded_2
		add_trait = wounded_1
	}
	else = {
		remove_trait = wounded_1
	}
}

tfmagi_cure_illness_effect = {
    if = {
        limit = { has_trait = ill }
        remove_trait = ill
    }
    else_if = {
        limit = { has_trait = pneumonic }
        remove_trait = pneumonic
    }
    else_if = {
        limit = { has_trait = great_pox }
        remove_trait = great_pox
    }
    else_if = {
        limit = { has_trait = early_great_pox }
        remove_trait = early_great_pox
    }
    else_if = {
        limit = { has_trait = lovers_pox }
        remove_trait = lovers_pox
    }
    else_if = {
        limit = { has_trait = leper }
        remove_trait = leper
    }
    else_if = {
        limit = { has_trait = cancer }
        remove_trait = cancer
    }
    else_if = {
        limit = { has_trait = consumption }
        remove_trait = consumption
    }
    else_if = {
        limit = { has_trait = typhus }
        remove_trait = typhus
    }
    else_if = {
        limit = { has_trait = bubonic_plague }
        remove_trait = bubonic_plague
    }
    else_if = {
        limit = { has_trait = smallpox }
        remove_trait = smallpox
    }
    else_if = {
        limit = { has_trait = measles }
        remove_trait = measles
    }
    else_if = {
        limit = { has_trait = dysentery }
        remove_trait = dysentery
    }
    else_if = {
        limit = { has_trait = ergotism }
        remove_trait = ergotism
    }
    else_if = {
        limit = { has_trait = gout_ridden }
        remove_trait = gout_ridden
    }
    else_if = {
        limit = { has_trait = sickly }
        remove_trait = sickly
    }
    else_if = {
        limit = { has_trait = infirm }
        remove_trait = infirm
    }
    else_if = {
        limit = { has_trait = incapable }
        remove_trait = incapable
    }
}

tfmagi_mend_imperfections_effect = {
    if = {
        limit = { has_trait = maimed }
        remove_trait = maimed
    }
    else_if = {
        limit = { has_trait = disfigured }
        remove_trait = disfigured
    }
    else_if = {
        limit = { has_trait = hunchbacked }
        remove_trait = hunchbacked
    }
    else_if = {
        limit = { has_trait = one_eyed }
        remove_trait = one_eyed
    }
    else_if = {
        limit = { has_trait = one_legged }
        remove_trait = one_legged
    }
    else_if = {
        limit = { has_trait = scarred }
        remove_trait = scarred
    }
    else_if = {
        limit = { has_trait = eunuch_1 }
        remove_trait = eunuch_1
    }
    else_if = {
        limit = { has_trait = beardless_eunuch }
        remove_trait = beardless_eunuch
    }
    else_if = {
        limit = { has_trait = blind }
        remove_trait = blind
    }
    else_if = {
        limit = { has_trait = hunchbacked }
        remove_trait = hunchbacked
    }
    else_if = {
        limit = { has_trait = clubfooted }
        remove_trait = clubfooted
    }
    else_if = {
        limit = { has_trait = lisping }
        remove_trait = lisping
    }
    else_if = {
        limit = { has_trait = stuttering }
        remove_trait = stuttering
    }
    else_if = {
        limit = { has_trait = inbred }
        remove_trait = inbred
    }
    else_if = {
        limit = { has_trait = weak }
        remove_trait = weak
    }
    else_if = {
        limit = { has_trait = dull }
        remove_trait = dull
    }
    else_if = {
        limit = { has_trait = impotent }
        remove_trait = impotent
    }
    else_if = {
        limit = { has_trait = spindly }
        remove_trait = spindly
    }
    else_if = {
        limit = { has_trait = wheezing }
        remove_trait = wheezing
    }
    else_if = {
        limit = { has_trait = bleeder }
        remove_trait = bleeder
    }
}

add_tfmagi_one_level_of_genetic_beauty_intellect_physique_effect = {
    random_list = {
        33 = {  # Beauty upgrade
            modifier = {
                factor = 0
                has_trait = beauty_good_3
            }
            if = {
                limit = { has_trait = beauty_bad_3 }
                remove_trait = beauty_bad_3
                add_trait = beauty_bad_2
            }
            else_if = {
                limit = { has_trait = beauty_bad_2 }
                remove_trait = beauty_bad_2
                add_trait = beauty_bad_1
            }
            else_if = {
                limit = { has_trait = beauty_bad_1 }
                remove_trait = beauty_bad_1
            }
            else_if = {
                limit = { has_trait = beauty_good_2 }
                remove_trait = beauty_good_2
                add_trait = beauty_good_3
            }
            else_if = {
                limit = { has_trait = beauty_good_1 }
                remove_trait = beauty_good_1
                add_trait = beauty_good_2
            }
            else = {
                add_trait = beauty_good_1
            }
        }
        33 = {  # Intellect upgrade
            modifier = {
                factor = 0
                has_trait = intellect_good_3
            }
            if = {
                limit = { has_trait = intellect_bad_3 }
                remove_trait = intellect_bad_3
                add_trait = intellect_bad_2
            }
            else_if = {
                limit = { has_trait = intellect_bad_2 }
                remove_trait = intellect_bad_2
                add_trait = intellect_bad_1
            }
            else_if = {
                limit = { has_trait = intellect_bad_1 }
                remove_trait = intellect_bad_1
            }
            else_if = {
                limit = { has_trait = intellect_good_2 }
                remove_trait = intellect_good_2
                add_trait = intellect_good_3
            }
            else_if = {
                limit = { has_trait = intellect_good_1 }
                remove_trait = intellect_good_1
                add_trait = intellect_good_2
            }
            else = {
                add_trait = intellect_good_1
            }
        }
        33 = {  # Physique upgrade
            modifier = {
                factor = 0
                has_trait = physique_good_3
            }
            if = {
                limit = { has_trait = physique_bad_3 }
                remove_trait = physique_bad_3
                add_trait = physique_bad_2
            }
            else_if = {
                limit = { has_trait = physique_bad_2 }
                remove_trait = physique_bad_2
                add_trait = physique_bad_1
            }
            else_if = {
                limit = { has_trait = physique_bad_1 }
                remove_trait = physique_bad_1
            }
            else_if = {
                limit = { has_trait = physique_good_2 }
                remove_trait = physique_good_2
                add_trait = physique_good_3
            }
            else_if = {
                limit = { has_trait = physique_good_1 }
                remove_trait = physique_good_1
                add_trait = physique_good_2
            }
            else = {
                add_trait = physique_good_1
            }
        }
    }
}